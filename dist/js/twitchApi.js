(function() {
  nv.addGraph(function() {
    var chart, data, fetchNewData, i, values;
    chart = nv.models.lineChart().margin({
      left: 100
    }).useInteractiveGuideline(true).showLegend(true).showYAxis(true).showXAxis(true);
    chart.xAxis.axisLabel('Time (ms)').tickFormat(d3.format(',r'));
    chart.yAxis.axisLabel('Voltage (v)').tickFormat(d3.format('.02f'));
    chart.forceY([0, 300]);

    /* Done setting the chart up? Time to render it! */
    values = [];
    data = [
      {
        values: values,
        key: 'SBJ'
      }
    ];
    window.values = values;
    d3.select('#chart').datum(data).call(chart);
    i = 0;
    fetchNewData = function() {
      return d3.json('https://api.twitch.tv/kraken/streams/SlickBlackJesus', function(err, res) {
        if (err) {
          return console.log("Error " + err);
        } else {
          values.push({
            x: ++i,
            y: res.stream.viewers
          });
          return chart.update();
        }
      });
    };
    setInterval(function() {
      return fetchNewData();
    }, 1000);
    nv.utils.windowResize(function() {
      chart.update();
    });
    return chart;
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInR3aXRjaEFwaS5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0E7RUFBQSxFQUFFLENBQUMsUUFBSCxDQUFZLFNBQUE7QUFDVixRQUFBO0lBQUEsS0FBQSxHQUFRLEVBQUUsQ0FBQyxNQUFNLENBQUMsU0FBVixDQUFBLENBQXFCLENBQUMsTUFBdEIsQ0FBNkI7TUFBQSxJQUFBLEVBQU0sR0FBTjtLQUE3QixDQUF1QyxDQUFDLHVCQUF4QyxDQUFnRSxJQUFoRSxDQUFxRSxDQUFDLFVBQXRFLENBQWlGLElBQWpGLENBQXNGLENBQUMsU0FBdkYsQ0FBaUcsSUFBakcsQ0FBc0csQ0FBQyxTQUF2RyxDQUFpSCxJQUFqSDtJQUNSLEtBQUssQ0FBQyxLQUFLLENBQUMsU0FBWixDQUFzQixXQUF0QixDQUFrQyxDQUFDLFVBQW5DLENBQThDLEVBQUUsQ0FBQyxNQUFILENBQVUsSUFBVixDQUE5QztJQUNBLEtBQUssQ0FBQyxLQUFLLENBQUMsU0FBWixDQUFzQixhQUF0QixDQUFvQyxDQUFDLFVBQXJDLENBQWdELEVBQUUsQ0FBQyxNQUFILENBQVUsTUFBVixDQUFoRDtJQUNBLEtBQUssQ0FBQyxNQUFOLENBQWEsQ0FBQyxDQUFELEVBQUksR0FBSixDQUFiOztBQUVBO0lBQ0EsTUFBQSxHQUFTO0lBQ1QsSUFBQSxHQUFPO01BQUM7UUFDTixRQUFBLE1BRE07UUFFTixHQUFBLEVBQUssS0FGQztPQUFEOztJQUtQLE1BQU0sQ0FBQyxNQUFQLEdBQWdCO0lBRWhCLEVBQUUsQ0FBQyxNQUFILENBQVUsUUFBVixDQUFtQixDQUFDLEtBQXBCLENBQTBCLElBQTFCLENBQStCLENBQUMsSUFBaEMsQ0FBcUMsS0FBckM7SUFJQSxDQUFBLEdBQUk7SUFDSixZQUFBLEdBQWUsU0FBQTthQUNiLEVBQUUsQ0FBQyxJQUFILENBQVEsc0RBQVIsRUFBZ0UsU0FBQyxHQUFELEVBQU0sR0FBTjtRQUM5RCxJQUFHLEdBQUg7aUJBQ0UsT0FBTyxDQUFDLEdBQVIsQ0FBWSxRQUFBLEdBQVMsR0FBckIsRUFERjtTQUFBLE1BQUE7VUFHRSxNQUFNLENBQUMsSUFBUCxDQUFZO1lBQ1YsQ0FBQSxFQUFHLEVBQUUsQ0FESztZQUVWLENBQUEsRUFBRyxHQUFHLENBQUMsTUFBTSxDQUFDLE9BRko7V0FBWjtpQkFJQSxLQUFLLENBQUMsTUFBTixDQUFBLEVBUEY7O01BRDhELENBQWhFO0lBRGE7SUFXZixXQUFBLENBQVksU0FBQTthQUNWLFlBQUEsQ0FBQTtJQURVLENBQVosRUFFRSxJQUZGO0lBSUEsRUFBRSxDQUFDLEtBQUssQ0FBQyxZQUFULENBQXNCLFNBQUE7TUFDcEIsS0FBSyxDQUFDLE1BQU4sQ0FBQTtJQURvQixDQUF0QjtXQUlBO0VBdkNVLENBQVo7QUFBQSIsImZpbGUiOiJ0d2l0Y2hBcGkuanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8iLCJzb3VyY2VzQ29udGVudCI6WyJcclxubnYuYWRkR3JhcGggLT5cclxuICBjaGFydCA9IG52Lm1vZGVscy5saW5lQ2hhcnQoKS5tYXJnaW4obGVmdDogMTAwKS51c2VJbnRlcmFjdGl2ZUd1aWRlbGluZSh0cnVlKS5zaG93TGVnZW5kKHRydWUpLnNob3dZQXhpcyh0cnVlKS5zaG93WEF4aXModHJ1ZSlcclxuICBjaGFydC54QXhpcy5heGlzTGFiZWwoJ1RpbWUgKG1zKScpLnRpY2tGb3JtYXQgZDMuZm9ybWF0KCcscicpXHJcbiAgY2hhcnQueUF4aXMuYXhpc0xhYmVsKCdWb2x0YWdlICh2KScpLnRpY2tGb3JtYXQgZDMuZm9ybWF0KCcuMDJmJylcclxuICBjaGFydC5mb3JjZVkoWzAsIDMwMF0pXHJcblxyXG4gICMjIyBEb25lIHNldHRpbmcgdGhlIGNoYXJ0IHVwPyBUaW1lIHRvIHJlbmRlciBpdCEjIyNcclxuICB2YWx1ZXMgPSBbXVxyXG4gIGRhdGEgPSBbe1xyXG4gICAgdmFsdWVzXHJcbiAgICBrZXk6ICdTQkonXHJcbiAgICB9XHJcbiAgXVxyXG4gIHdpbmRvdy52YWx1ZXMgPSB2YWx1ZXNcclxuICAjWW91IG5lZWQgZGF0YS4uLlxyXG4gIGQzLnNlbGVjdCgnI2NoYXJ0JykuZGF0dW0oZGF0YSkuY2FsbCBjaGFydFxyXG4gICNGaW5hbGx5LCByZW5kZXIgdGhlIGNoYXJ0IVxyXG4gICNVcGRhdGUgdGhlIGNoYXJ0IHdoZW4gd2luZG93IHJlc2l6ZXMuXHJcblxyXG4gIGkgPSAwXHJcbiAgZmV0Y2hOZXdEYXRhID0gKCkgLT5cclxuICAgIGQzLmpzb24gJ2h0dHBzOi8vYXBpLnR3aXRjaC50di9rcmFrZW4vc3RyZWFtcy9TbGlja0JsYWNrSmVzdXMnLCAoZXJyLCByZXMpIC0+XHJcbiAgICAgIGlmIGVyclxyXG4gICAgICAgIGNvbnNvbGUubG9nIFwiRXJyb3IgI3tlcnJ9XCJcclxuICAgICAgZWxzZVxyXG4gICAgICAgIHZhbHVlcy5wdXNoIHtcclxuICAgICAgICAgIHg6ICsraVxyXG4gICAgICAgICAgeTogcmVzLnN0cmVhbS52aWV3ZXJzXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNoYXJ0LnVwZGF0ZSgpXHJcblxyXG4gIHNldEludGVydmFsICgpIC0+XHJcbiAgICBmZXRjaE5ld0RhdGEoKVxyXG4gICwgMTAwMFxyXG5cclxuICBudi51dGlscy53aW5kb3dSZXNpemUgLT5cclxuICAgIGNoYXJ0LnVwZGF0ZSgpXHJcbiAgICByZXR1cm5cclxuXHJcbiAgY2hhcnRcclxuIl19
