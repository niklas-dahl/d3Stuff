(function() {
  var colorScale, flowerInformationPath, graph, innerHeight, margin, outerHeight, renderData, svg, type, xAxisG, yAxisG;

  outerHeight = 800;

  margin = {
    top: 30,
    right: 30,
    bottom: 40,
    left: 40
  };

  innerHeight = outerHeight - margin.top - margin.bottom;

  svg = d3.select('#svgContainer').append('svg').attr('height', outerHeight);

  graph = svg.append('g').attr('transform', "translate(" + margin.left + ", " + margin.top + ")").attr('class', 'graphContent');

  xAxisG = graph.append('g').attr('transform', "translate(0, " + innerHeight + ")");

  yAxisG = graph.append('g');

  colorScale = d3.scale.category10();

  renderData = function(data, ow) {
    var circles, innerWidth, outerWidth, xAxis, xDomain, xScale, yAxis, yDomain, yScale;
    outerWidth = ow;
    innerWidth = outerWidth - margin.left - margin.right;
    xDomain = d3.extent(data, function(d) {
      return d.sepal_length;
    });
    xScale = d3.scale.linear().domain(xDomain).range([0, innerWidth]);
    yDomain = d3.extent(data, function(d) {
      return d.petal_length;
    });
    yScale = d3.scale.linear().domain(yDomain).range([innerHeight, 0]);
    xAxis = d3.svg.axis().scale(xScale).orient('bottom');
    yAxis = d3.svg.axis().scale(yScale).orient('left');
    xAxisG.call(xAxis);
    yAxisG.call(yAxis);
    circles = graph.selectAll('circle').data(data);
    circles.enter().append('circle').attr('stroke', function(d) {
      return colorScale(d.species);
    }).attr('r', 10).on('mouseover', function() {
      return d3.select(this).transition().duration(1000).attr('r', function(d) {
        return 30;
      });
    }).on('mouseout', function() {
      return d3.select(this).transition().attr('r', 10);
    });
    circles.transition().attr('cx', function(d) {
      return xScale(d.sepal_length);
    }).attr('cy', function(d) {
      return yScale(d.petal_length);
    });
    return circles.exit().transition().duration(100).attr('r', 0).each('end', function() {
      return d3.select(this).remove();
    });
  };

  flowerInformationPath = 'https://raw.githubusercontent.com/curran/screencasts/gh-pages/introToD3/examples/code/snapshot73/iris.csv';

  type = function(dataPoint) {
    dataPoint.petal_length = +dataPoint.petal_length;
    dataPoint.petal_width = +dataPoint.petal_width;
    dataPoint.sepal_length = +dataPoint.sepal_length;
    dataPoint.sepal_width = +dataPoint.sepal_width;
    return dataPoint;
  };

  d3.csv(flowerInformationPath, type, function(data) {
    var i;
    window.onresize = function(event) {
      var containerWidth;
      containerWidth = +svg.style('width').replace('px', '');
      return renderData(data, containerWidth);
    };
    i = 5 * 6;
    return setInterval(function() {
      var containerWidth;
      containerWidth = +svg.style('width').replace('px', '');
      data.push({
        petal_length: (Math.sin(i / 10)) * (5 + i / 10) + 1,
        sepal_length: i / 5
      });
      i++;
      return renderData(data, containerWidth);
    }, 300);
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,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QUE4QixJQUE5QixFQUFvQyxTQUFDLElBQUQ7QUFHbEMsUUFBQTtJQUFBLE1BQU0sQ0FBQyxRQUFQLEdBQWtCLFNBQUMsS0FBRDtBQUNoQixVQUFBO01BQUEsY0FBQSxHQUFpQixDQUFDLEdBQUcsQ0FBQyxLQUFKLENBQVUsT0FBVixDQUFrQixDQUFDLE9BQW5CLENBQTJCLElBQTNCLEVBQWlDLEVBQWpDO2FBQ2xCLFVBQUEsQ0FBVyxJQUFYLEVBQWlCLGNBQWpCO0lBRmdCO0lBSWxCLENBQUEsR0FBSSxDQUFBLEdBQUk7V0FDUixXQUFBLENBQVksU0FBQTtBQUNWLFVBQUE7TUFBQSxjQUFBLEdBQWlCLENBQUMsR0FBRyxDQUFDLEtBQUosQ0FBVSxPQUFWLENBQWtCLENBQUMsT0FBbkIsQ0FBMkIsSUFBM0IsRUFBaUMsRUFBakM7TUFLbEIsSUFBSSxDQUFDLElBQUwsQ0FBVTtRQUNSLFlBQUEsRUFBYyxDQUFDLElBQUksQ0FBQyxHQUFMLENBQVMsQ0FBQSxHQUFFLEVBQVgsQ0FBRCxDQUFBLEdBQWlCLENBQUMsQ0FBQSxHQUFJLENBQUEsR0FBRSxFQUFQLENBQWpCLEdBQThCLENBRHBDO1FBRVIsWUFBQSxFQUFjLENBQUEsR0FBRSxDQUZSO09BQVY7TUFLQSxDQUFBO2FBQ0EsVUFBQSxDQUFXLElBQVgsRUFBaUIsY0FBakI7SUFaVSxDQUFaLEVBYUUsR0FiRjtFQVJrQyxDQUFwQztBQTlFQSIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyIsInNvdXJjZXNDb250ZW50IjpbIiMgY2FsYyB3aWR0aCBhbmQgaGVpZ2h0XHJcbm91dGVySGVpZ2h0ID0gODAwXHJcbm1hcmdpbiA9IHsgdG9wOiAzMCwgcmlnaHQ6IDMwLCBib3R0b206IDQwLCBsZWZ0OiA0MCB9XHJcbmlubmVySGVpZ2h0ID0gb3V0ZXJIZWlnaHQgLSBtYXJnaW4udG9wICAtIG1hcmdpbi5ib3R0b21cclxuXHJcbiMgY3JlYXRlIHN2Z1xyXG5zdmcgPSBkMy5zZWxlY3QoJyNzdmdDb250YWluZXInKS5hcHBlbmQoJ3N2ZycpXHJcbiAgLmF0dHIoJ2hlaWdodCcsIG91dGVySGVpZ2h0KVxyXG5cclxuZ3JhcGggPSBzdmcuYXBwZW5kKCdnJylcclxuICAuYXR0cigndHJhbnNmb3JtJywgXCJ0cmFuc2xhdGUoI3ttYXJnaW4ubGVmdH0sICN7bWFyZ2luLnRvcH0pXCIpXHJcbiAgLmF0dHIoJ2NsYXNzJywgJ2dyYXBoQ29udGVudCcpXHJcblxyXG54QXhpc0cgPSBncmFwaC5hcHBlbmQoJ2cnKVxyXG4gIC5hdHRyKCd0cmFuc2Zvcm0nLCBcInRyYW5zbGF0ZSgwLCAje2lubmVySGVpZ2h0fSlcIilcclxueUF4aXNHID0gZ3JhcGguYXBwZW5kKCdnJylcclxuXHJcbmNvbG9yU2NhbGUgPSBkMy5zY2FsZS5jYXRlZ29yeTEwKClcclxuXHJcbnJlbmRlckRhdGEgPSAoZGF0YSwgb3cpIC0+XHJcbiAgIyBzaXplc1xyXG4gIG91dGVyV2lkdGggPSBvd1xyXG4gIGlubmVyV2lkdGggID0gb3V0ZXJXaWR0aCAgLSBtYXJnaW4ubGVmdCAtIG1hcmdpbi5yaWdodFxyXG5cclxuICAjIHNjYWxlc1xyXG4gIHhEb21haW4gPSBkMy5leHRlbnQoZGF0YSwgKGQpIC0+IGQuc2VwYWxfbGVuZ3RoKVxyXG4gIHhTY2FsZSA9IGQzLnNjYWxlLmxpbmVhcigpXHJcbiAgICAuZG9tYWluKHhEb21haW4pXHJcbiAgICAucmFuZ2UoWzAsIGlubmVyV2lkdGhdKVxyXG5cclxuICB5RG9tYWluID0gZDMuZXh0ZW50KGRhdGEsIChkKSAtPiBkLnBldGFsX2xlbmd0aClcclxuICB5U2NhbGUgPSBkMy5zY2FsZS5saW5lYXIoKVxyXG4gICAgLmRvbWFpbih5RG9tYWluKVxyXG4gICAgLnJhbmdlKFtpbm5lckhlaWdodCwgMF0pXHJcblxyXG4gICMgYXhpc1xyXG4gIHhBeGlzID0gZDMuc3ZnLmF4aXMoKS5zY2FsZSh4U2NhbGUpLm9yaWVudCgnYm90dG9tJylcclxuICB5QXhpcyA9IGQzLnN2Zy5heGlzKCkuc2NhbGUoeVNjYWxlKS5vcmllbnQoJ2xlZnQnKVxyXG4gIHhBeGlzRy5jYWxsKHhBeGlzKVxyXG4gIHlBeGlzRy5jYWxsKHlBeGlzKVxyXG5cclxuICAjIHNlbGVjdGlvblxyXG4gIGNpcmNsZXMgPSBncmFwaC5zZWxlY3RBbGwoJ2NpcmNsZScpLmRhdGEoZGF0YSlcclxuXHJcbiAgIyBlbnRlclxyXG4gIGNpcmNsZXMuZW50ZXIoKS5hcHBlbmQoJ2NpcmNsZScpXHJcbiAgICAuYXR0cignc3Ryb2tlJywgKGQpIC0+IGNvbG9yU2NhbGUoZC5zcGVjaWVzKSApXHJcbiAgICAuYXR0cigncicsIDEwKVxyXG5cclxuICAgIC5vbiAnbW91c2VvdmVyJywgKCkgLT5cclxuICAgICAgZDMuc2VsZWN0KHRoaXMpLnRyYW5zaXRpb24oKVxyXG4gICAgICAgIC5kdXJhdGlvbigxMDAwKVxyXG4gICAgICAgIC5hdHRyKCdyJywgKGQpIC0+IDMwKVxyXG5cclxuICAgIC5vbiAnbW91c2VvdXQnLCAoKSAtPlxyXG4gICAgICBkMy5zZWxlY3QodGhpcykudHJhbnNpdGlvbigpXHJcbiAgICAgICAgLmF0dHIoJ3InLCAxMClcclxuXHJcbiAgIyB1cGRhdGVcclxuICBjaXJjbGVzLnRyYW5zaXRpb24oKVxyXG4gICAgLmF0dHIoJ2N4JywgKGQpIC0+IHhTY2FsZShkLnNlcGFsX2xlbmd0aCkgKVxyXG4gICAgLmF0dHIoJ2N5JywgKGQpIC0+IHlTY2FsZShkLnBldGFsX2xlbmd0aCkgKVxyXG5cclxuICAjIGV4aXRcclxuICBjaXJjbGVzLmV4aXQoKS50cmFuc2l0aW9uKClcclxuICAgIC5kdXJhdGlvbigxMDApXHJcbiAgICAuYXR0cigncicsIDApXHJcbiAgICAuZWFjaCAnZW5kJywgKCkgLT5cclxuICAgICAgZDMuc2VsZWN0KHRoaXMpXHJcbiAgICAgICAgLnJlbW92ZSgpXHJcblxyXG5mbG93ZXJJbmZvcm1hdGlvblBhdGggPSAnaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2N1cnJhbi9zY3JlZW5jYXN0cy9naC1wYWdlcy9pbnRyb1RvRDMvZXhhbXBsZXMvY29kZS9zbmFwc2hvdDczL2lyaXMuY3N2J1xyXG50eXBlID0gKGRhdGFQb2ludCkgLT5cclxuICBkYXRhUG9pbnQucGV0YWxfbGVuZ3RoICA9ICtkYXRhUG9pbnQucGV0YWxfbGVuZ3RoIFxyXG4gIGRhdGFQb2ludC5wZXRhbF93aWR0aCAgID0gK2RhdGFQb2ludC5wZXRhbF93aWR0aCBcclxuICBkYXRhUG9pbnQuc2VwYWxfbGVuZ3RoICA9ICtkYXRhUG9pbnQuc2VwYWxfbGVuZ3RoXHJcbiAgZGF0YVBvaW50LnNlcGFsX3dpZHRoICAgPSArZGF0YVBvaW50LnNlcGFsX3dpZHRoXHJcbiAgZGF0YVBvaW50XHJcblxyXG5kMy5jc3YgZmxvd2VySW5mb3JtYXRpb25QYXRoLCB0eXBlLCAoZGF0YSkgLT5cclxuIyAgcmVuZGVyRGF0YShkYXRhLCAzMDApXHJcblxyXG4gIHdpbmRvdy5vbnJlc2l6ZSA9IChldmVudCkgLT5cclxuICAgIGNvbnRhaW5lcldpZHRoID0gK3N2Zy5zdHlsZSgnd2lkdGgnKS5yZXBsYWNlKCdweCcsICcnKVxyXG4gICAgcmVuZGVyRGF0YShkYXRhLCBjb250YWluZXJXaWR0aClcclxuXHJcbiAgaSA9IDUgKiA2XHJcbiAgc2V0SW50ZXJ2YWwgKCkgLT5cclxuICAgIGNvbnRhaW5lcldpZHRoID0gK3N2Zy5zdHlsZSgnd2lkdGgnKS5yZXBsYWNlKCdweCcsICcnKVxyXG4gICAgIyBkYXRhLnB1c2gge1xyXG4gICAgIyAgIHBldGFsX2xlbmd0aDogZGF0YVswXS5wZXRhbF9sZW5ndGggKyBpXHJcbiAgICAjICAgc2VwYWxfbGVuZ3RoOiBkYXRhWzBdLnNlcGFsX2xlbmd0aCArIGlcclxuICAgICMgfVxyXG4gICAgZGF0YS5wdXNoIHtcclxuICAgICAgcGV0YWxfbGVuZ3RoOiAoTWF0aC5zaW4oaS8xMCkpKig1ICsgaS8xMCkgKyAxXHJcbiAgICAgIHNlcGFsX2xlbmd0aDogaS81XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGkrK1xyXG4gICAgcmVuZGVyRGF0YShkYXRhLCBjb250YWluZXJXaWR0aClcclxuICAsIDMwMCJdfQ==
